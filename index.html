<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>MindfulTime - 價值追蹤器</title>
    
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="theme-color" content="#FFF9F5">

    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
      body { 
          font-family: sans-serif; 
          background-color: #FFF9F5; 
          color: #5D5F71; 
          display: flex; 
          justify-content: center; 
          align-items: center; 
          height: 100vh; 
          margin: 0; 
      }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        // 注意：這裡不再有 import 語法！

        const { useState, useEffect } = window.React;
        const { createRoot } = window.ReactDOM; 
        
        // 你的後端網址
        const GAS_URL = "https://script.google.com/macros/s/AKfycbyyP_FqWOFoJcnnZBit3xc_KR3YRpatQfgOgubnngq83TFJoWuZ3Z6VKvlOUFsUX-0CwA/exec"; 

        const App = () => {
            const [message, setMessage] = useState("MindfulTime 正在檢查連線...");

            useEffect(() => {
                // 執行連線檢查
                fetch(GAS_URL + '?mode=json')
                    .then(res => res.json())
                    .then(() => {
                        setMessage("✅ 前端架構成功！資料庫連線正常！");
                    })
                    .catch(() => {
                        setMessage("⚠️ 前端架構成功，但資料庫連線失敗。");
                    });
            }, []);

            return (
                <div style={{ padding: '20px', backgroundColor: '#E1F7E7', borderRadius: '10px', boxShadow: '0 4px 6px rgba(0,0,0,0.1)' }}>
                    <h1 style={{ color: '#6FC295', fontSize: '24px' }}>{message}</h1>
                    <p style={{ color: '#5D5F71', fontSize: '14px' }}>如果您看到綠色訊息，恭喜您，問題已經修復！</p>
                </div>
            );
        };
        
        // 渲染 App
        const root = createRoot(document.getElementById('root'));
        root.render(<App />);

    </script>
</body>
</html>
